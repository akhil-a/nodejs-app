FROM node:20-alpine

ENV DATABASE_PORT=3306 
ENV DATABASE_NAME=college  
ENV DATABASE_TABLE=students


ARG DB_USER
ARG DB_PASS
ARG DB_HOST

ENV DATABASE_USER=$DB_USER
ENV DATABASE_PASSWORD=$DB_PASS
ENV DATABASE_HOST=$DB_HOST

WORKDIR /var/nodeapp

COPY ./code/ .

RUN npm install

EXPOSE 8080

CMD ["npm", "start"]
